(function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},e=[].slice;!function(t,e){return"function"==typeof define&&define.amd?define("waypoints",["jquery"],function($){return e($,t)}):e(t.jQuery,t)}(window,function($,n){var o,r,i,l,s,c,a,u,f,h,d,p,v,g,y,w;return o=$(n),u=t.call(n,"ontouchstart")>=0,l={horizontal:{},vertical:{}},s=1,a={},c="waypoints-context-id",d="resize.waypoints",p="scroll.waypoints",v=1,g="waypoints-waypoint-ids",y="waypoint",w="waypoints",r=function(){function t(t){this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+s++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[c]=this.id,a[this.id]=this,t.bind(p,function(t){return function(){var e;return t.didScroll||u?void 0:(t.didScroll=!0,e=function(){return t.doScroll(),t.didScroll=!1},n.setTimeout(e,$[w].settings.scrollThrottle))}}(this)),t.bind(d,function(t){return function(){var e;return t.didResize?void 0:(t.didResize=!0,e=function(){return $[w]("refresh"),t.didResize=!1},n.setTimeout(e,$[w].settings.resizeThrottle))}}(this))}return t.prototype.doScroll=function(){var t;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||t.vertical.oldScroll&&t.vertical.newScroll||$[w]("refresh"),$.each(t,function(t){return function(e,n){var o,r,i;return i=[],r=n.newScroll>n.oldScroll,o=r?n.forward:n.backward,$.each(t.waypoints[e],function(t,e){var o,r;return n.oldScroll<(o=e.offset)&&o<=n.newScroll?i.push(e):n.newScroll<(r=e.offset)&&r<=n.oldScroll?i.push(e):void 0}),i.sort(function(t,e){return t.offset-e.offset}),r||i.reverse(),$.each(i,function(t,e){return e.options.continuous||t===i.length-1?e.trigger([o]):void 0})}}(this)),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,e,n;return n=$.isWindow(this.element),e=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:n?0:e.left,contextScroll:n?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:n?0:e.top,contextScroll:n?0:this.oldScroll.y,contextDimension:n?$[w]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},$.each(t,function(t){return function(e,n){return $.each(t.waypoints[e],function(t,e){var o,r,i,l,s;return o=e.options.offset,i=e.offset,r=$.isWindow(e.element)?0:e.$element.offset()[n.offsetProp],$.isFunction(o)?o=o.apply(e.element):"string"==typeof o&&(o=parseFloat(o),e.options.offset.indexOf("%")>-1&&(o=Math.ceil(n.contextDimension*o/100))),e.offset=r-n.contextOffset+n.contextScroll-o,e.options.onlyOnScroll&&null!=i||!e.enabled?void 0:null!==i&&i<(l=n.oldScroll)&&l<=e.offset?e.trigger([n.backward]):null!==i&&i>(s=n.oldScroll)&&s>=e.offset?e.trigger([n.forward]):null===i&&n.oldScroll>=e.offset?e.trigger([n.forward]):void 0})}}(this))},t.prototype.checkEmpty=function(){return $.isEmptyObject(this.waypoints.horizontal)&&$.isEmptyObject(this.waypoints.vertical)?(this.$element.unbind([d,p].join(" ")),delete a[this.id]):void 0},t}(),i=function(){function t(t,e,n){var o,r;"bottom-in-view"===n.offset&&(n.offset=function(){var t;return t=$[w]("viewportHeight"),$.isWindow(e.element)||(t=e.$element.height()),t-$(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=n.horizontal?"horizontal":"vertical",this.callback=n.handler,this.context=e,this.enabled=n.enabled,this.id="waypoints"+v++,this.offset=null,this.options=n,e.waypoints[this.axis][this.id]=this,l[this.axis][this.id]=this,o=null!=(r=this.element[g])?r:[],o.push(this.id),this.element[g]=o}return t.prototype.trigger=function(t){return this.enabled?(null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0):void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete l[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var e,n;return(n=t[g])?(e=$.extend({},l.horizontal,l.vertical),$.map(n,function(t){return e[t]})):[]},t}(),h={init:function(t,e){return e=$.extend({},$.fn[y].defaults,e),null==e.handler&&(e.handler=t),this.each(function(){var t,n,o,l;return t=$(this),o=null!=(l=e.context)?l:$.fn[y].defaults.context,$.isWindow(o)||(o=t.closest(o)),o=$(o),n=a[o[0][c]],n||(n=new r(o)),new i(t,n,e)}),$[w]("refresh"),this},disable:function(){return h._invoke.call(this,"disable")},enable:function(){return h._invoke.call(this,"enable")},destroy:function(){return h._invoke.call(this,"destroy")},prev:function(t,e){return h._traverse.call(this,t,e,function(t,e,n){return e>0?t.push(n[e-1]):void 0})},next:function(t,e){return h._traverse.call(this,t,e,function(t,e,n){return e<n.length-1?t.push(n[e+1]):void 0})},_traverse:function(t,e,o){var r,i;return null==t&&(t="vertical"),null==e&&(e=n),i=f.aggregate(e),r=[],this.each(function(){var e;return e=$.inArray(this,i[t]),o(r,e,i[t])}),this.pushStack(r)},_invoke:function(t){return this.each(function(){var e;return e=i.getWaypointsByElement(this),$.each(e,function(e,n){return n[t](),!0})}),this}},$.fn[y]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],h[n]?h[n].apply(this,t):$.isFunction(n)?h.init.apply(this,arguments):$.isPlainObject(n)?h.init.apply(this,[null,n]):$.error(n?"The "+n+" method does not exist in jQuery Waypoints.":"jQuery Waypoints needs a callback function or handler option.")},$.fn[y].defaults={context:n,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},f={refresh:function(){return $.each(a,function(t,e){return e.refresh()})},viewportHeight:function(){var t;return null!=(t=n.innerHeight)?t:o.height()},aggregate:function(t){var e,n,o;return e=l,t&&(e=null!=(o=a[$(t)[0][c]])?o.waypoints:void 0),e?(n={horizontal:[],vertical:[]},$.each(n,function(t,o){return $.each(e[t],function(t,e){return o.push(e)}),o.sort(function(t,e){return t.offset-e.offset}),n[t]=$.map(o,function(t){return t.element}),n[t]=$.unique(n[t])}),n):[]},above:function(t){return null==t&&(t=n),f._filter(t,"vertical",function(t,e){return e.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=n),f._filter(t,"vertical",function(t,e){return e.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=n),f._filter(t,"horizontal",function(t,e){return e.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=n),f._filter(t,"horizontal",function(t,e){return e.offset>t.oldScroll.x})},enable:function(){return f._invoke("enable")},disable:function(){return f._invoke("disable")},destroy:function(){return f._invoke("destroy")},extendFn:function(t,e){return h[t]=e},_invoke:function(t){var e;return e=$.extend({},l.vertical,l.horizontal),$.each(e,function(e,n){return n[t](),!0})},_filter:function(t,e,n){var o,r;return(o=a[$(t)[0][c]])?(r=[],$.each(o.waypoints[e],function(t,e){return n(o,e)?r.push(e):void 0}),r.sort(function(t,e){return t.offset-e.offset}),$.map(r,function(t){return t.element})):[]}},$[w]=function(){var t,n;return n=arguments[0],t=2<=arguments.length?e.call(arguments,1):[],f[n]?f[n].apply(null,t):f.aggregate.call(null,n)},$[w].settings={resizeThrottle:100,scrollThrottle:30},o.on("load.waypoints",function(){return $[w]("refresh")})}),$(document).ready(function(){var t,e,n;return e=function(){return $("#mobile_navi_button").click(function(t){return t.preventDefault(),$("#wrapper").toggleClass("on")})},t=function(){var t;return t=$("#bg-image img").attr("src"),$("#full_width_background").backstretch(t,{centeredY:!1})},n=function(){return $(".scroll-to-top").click(function(){return $("body,html").animate({scrollTop:0},1e3),!1}),$("#start_reading").click(function(){return $("body,html").animate({scrollTop:470},2e3),!1}),$(".slide_left, .slide_right").addClass("off"),$(".slide_left, .slide_right").waypoint(function(t){return $(this).toggleClass("off")},{offset:"75%"}),$(window).scroll(function(){$(this).scrollTop()>100?$(".scroll-to-top").fadeIn():$(".scroll-to-top").fadeOut(),window.innerWidth>942&&($(this).scrollTop()>5?$("#logo").addClass("logo-vertical"):$("#logo").removeClass("logo-vertical"),$(this).scrollTop()>15?$("#logo").addClass("logo-vertical-1"):$("#logo").removeClass("logo-vertical-1"),$(this).scrollTop()>30?$("#logo").addClass("logo-vertical-2"):$("#logo").removeClass("logo-vertical-2"),$(this).scrollTop()>50?$("#logo").addClass("logo-vertical-3"):$("#logo").removeClass("logo-vertical-3"))})},t(),e(),0===$("[data-mercury]").length?n():void 0})}).call(this);